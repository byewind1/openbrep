# openbrep Configuration Example
# Copy this to config.toml and fill in your own API keys and paths

[llm]
# 选择 LLM 模型 (支持: glm-4-flash, glm-4.7, glm-5, deepseek-*, claude-*, gpt-*, gemini-*)
model = "glm-4-flash"
# api_base 通常不需要设置，每个 provider 的内置端点会自动匹配
# api_base = "https://open.bigmodel.cn/api/paas/v4"  # 仅在自定义端点时使用
temperature = 0.2
max_tokens = 4096

# Provider API Keys — 按 provider 分开存，切换模型自动匹配
[llm.provider_keys]
zhipu   = "YOUR_ZHIPU_API_KEY_HERE"       # glm-4-flash, glm-4.7, glm-5
deepseek = "YOUR_DEEPSEEK_API_KEY_HERE"   # deepseek-*
anthropic = "YOUR_ANTHROPIC_API_KEY_HERE" # claude-*
openai    = "YOUR_OPENAI_API_KEY_HERE"    # gpt-*
google    = "YOUR_GEMINI_API_KEY_HERE"    # gemini-*

# 注意: 也可以直接设置顶层 api_key (单一 provider 时更简单)
# api_key = "your-key-here"

[agent]
# Agent 循环参数
max_iterations = 5      # 最大重试次数
validate_xml = true     # 验证 XML 格式
diff_check = true       # 检查变更差异
auto_version = true     # 自动更新版本号

[compiler]
# LP_XMLConverter 路径 (ArchiCAD 内置编译器)
# macOS:   /Applications/GRAPHISOFT/Archicad 29/Archicad 29.app/Contents/MacOS/LP_XMLConverter.app/Contents/MacOS/LP_XMLConverter
# Windows: C:\Program Files\GRAPHISOFT\ArchiCAD 29\LP_XMLConverter.exe
# Linux:   /opt/GRAPHISOFT/ArchiCAD29/LP_XMLConverter
path = "/path/to/LP_XMLConverter"
timeout = 60            # 编译超时（秒）

[paths]
# 工作目录
knowledge_dir = "./knowledge"   # 知识库文档
templates_dir = "./templates"   # GDL 模板
src_dir = "./src"               # 源代码
output_dir = "./output"         # 编译输出

# 注意: 不要在此文件中提交敏感信息（API keys, 本地路径）
# Use: git update-index --assume-unchanged config.toml (防止意外提交)
